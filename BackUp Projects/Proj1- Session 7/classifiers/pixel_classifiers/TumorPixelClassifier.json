{
  "pixel_classifier_type": "OpenCVPixelClassifier",
  "metadata": {
    "inputPadding": 0,
    "inputResolution": {
      "pixelWidth": {
        "value": 1.3,
        "unit": "µm"
      },
      "pixelHeight": {
        "value": 1.3,
        "unit": "µm"
      },
      "zSpacing": {
        "value": 1.0,
        "unit": "z-slice"
      },
      "timeUnit": "SECONDS",
      "timepoints": []
    },
    "inputWidth": 512,
    "inputHeight": 512,
    "inputNumChannels": 3,
    "outputType": "CLASSIFICATION",
    "outputChannels": [
      {
        "name": "Ignore*",
        "color": 16776702
      },
      {
        "name": "Tumor",
        "color": -3670016
      }
    ],
    "classificationLabels": {
      "0": {
        "name": "Ignore*",
        "color": [
          180,
          180,
          180
        ]
      },
      "1": {
        "name": "Tumor",
        "color": [
          200,
          0,
          0
        ]
      }
    }
  },
  "op": {
    "type": "data.op.channels",
    "colorTransforms": [
      {
        "channelName": "Hoechst"
      },
      {
        "channelName": "AF1"
      },
      {
        "channelName": "PDL1"
      },
      {
        "channelName": "CD45"
      },
      {
        "channelName": "S100a"
      }
    ],
    "op": {
      "type": "op.core.sequential",
      "ops": [
        {
          "type": "op.core.sequential",
          "ops": [
            {
              "type": "op.core.split-merge",
              "ops": [
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN"
                  ],
                  "sigmaX": 1.0,
                  "sigmaY": 1.0
                },
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN"
                  ],
                  "sigmaX": 2.0,
                  "sigmaY": 2.0
                },
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN"
                  ],
                  "sigmaX": 4.0,
                  "sigmaY": 4.0
                }
              ]
            },
            {
              "type": "op.ml.feature-preprocessor",
              "preprocessor": {
                "normalizer": {
                  "offsets": [
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0
                  ],
                  "scales": [
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0
                  ],
                  "missingValue": 0.0
                },
                "inputLength": 30,
                "outputLength": 30
              }
            }
          ]
        },
        {
          "type": "op.ml.opencv-statmodel",
          "model": {
            "class": "ANN_MLP",
            "statmodel": {
              "opencv_ml_ann_mlp": {
                "format": 3,
                "layer_sizes": [
                  30,
                  2
                ],
                "activation_function": "SIGMOID_SYM",
                "f_param1": 1.0,
                "f_param2": 1.0,
                "min_val": -9.4999999999999996e-01,
                "max_val": 9.4999999999999996e-01,
                "min_val1": -9.7999999999999998e-01,
                "max_val1": 9.7999999999999998e-01,
                "training_params": {
                  "train_method": "RPROP",
                  "dw0": 1.0000000000000001e-01,
                  "dw_plus": 1.2000000000000000e+00,
                  "dw_minus": 5.0000000000000000e-01,
                  "dw_min": 1.1920928955078125e-07,
                  "dw_max": 50.0,
                  "term_criteria": {
                    "epsilon": 1.0000000000000000e-02,
                    "iterations": 1000
                  }
                },
                "input_scale": [
                  5.9954082717983360e-04,
                  -1.2931654481251154e+00,
                  1.5663171165607253e-03,
                  8.9643831596736973e-02,
                  1.0857607986050073e-03,
                  -2.3020285536830678e+00,
                  3.3657771848008360e-03,
                  -7.2685318341557685e-04,
                  3.4115147943709315e-03,
                  -2.8667556330788511e+00,
                  7.9724325587143176e-03,
                  7.9756254111693972e-03,
                  3.2759456852939567e-03,
                  -1.5700838360737051e+00,
                  1.0548995004200486e-02,
                  -4.1947158609452188e-02,
                  5.4646661320132163e-03,
                  -2.2121236257273140e+00,
                  1.4904086032818288e-02,
                  2.0226325886103423e-02,
                  7.2200068348024396e-04,
                  -1.5107687070829128e+00,
                  4.8421862198385771e-03,
                  1.6020559162732551e-01,
                  1.1880699845798709e-03,
                  -2.5212251727456136e+00,
                  1.1464214491960159e-02,
                  -1.8285338541104677e-02,
                  3.9262732059901426e-03,
                  -3.2889573438020872e+00,
                  2.8527742187944575e-02,
                  6.1911471496676529e-02,
                  3.4481715678865055e-03,
                  -1.6638283941276628e+00,
                  3.6404075966266623e-02,
                  -4.3526095366620318e-02,
                  6.0942029796260747e-03,
                  -2.4535374808130768e+00,
                  5.5036938185235688e-02,
                  8.2331460270496232e-02,
                  8.7018447084537156e-04,
                  -1.7252037367730246e+00,
                  2.3903057382882089e-02,
                  2.6095957855609891e-01,
                  1.2811001752288968e-03,
                  -2.7380145006430370e+00,
                  4.8602832559381318e-02,
                  -1.0869239620779308e-01,
                  4.4740612306531022e-03,
                  -3.6971993425368219e+00,
                  1.4526544628689425e-01,
                  2.5478576345848442e-01,
                  3.6120188545131753e-03,
                  -1.7604526310788964e+00,
                  1.4854194713920674e-01,
                  -8.7870661336486508e-02,
                  6.9130912013516269e-03,
                  -2.7348086242012060e+00,
                  2.5505616703160838e-01,
                  2.5036437794718547e-01
                ],
                "output_scale": [
                  1.0,
                  0.0,
                  1.0,
                  0.0
                ],
                "inv_output_scale": [
                  1.0,
                  0.0,
                  1.0,
                  0.0
                ],
                "weights": [
                  [
                    -1.1064179403240952e+00,
                    9.3025553749314571e-01,
                    -4.5954191337073080e-01,
                    2.1374622137283128e-01,
                    -3.6105988482771689e-01,
                    -9.9321582686458743e-02,
                    -1.5438237311217343e-01,
                    -4.4937875775335770e-02,
                    -1.8077622695440179e+00,
                    8.1219905579232343e-01,
                    -1.6710618824941798e-01,
                    -1.1161067095855438e-01,
                    4.0330254627658126e+00,
                    -2.0252487500466010e-01,
                    -1.0143452834676023e+00,
                    3.8148068476582014e-01,
                    -1.4937405801886052e+00,
                    3.5854301658259713e-01,
                    6.8002018515581664e-01,
                    -3.7058117861570905e-01,
                    6.1245915279660068e-01,
                    -6.8961880364552086e-01,
                    2.5460367026813847e-02,
                    -1.1629473977714855e-01,
                    -5.4971306304542245e-01,
                    -3.1487824999771852e-01,
                    5.7235631671698102e-02,
                    -1.7236105820839873e-01,
                    -1.4035607863187980e+00,
                    1.7129842579843320e+00,
                    -1.3548104201077440e+00,
                    1.1615257974101456e+00,
                    1.0968073597756829e+00,
                    -1.7795609915065989e+00,
                    4.3855226445448392e-01,
                    -2.2332177345691201e-01,
                    -1.3477740562586316e+00,
                    2.5079042302570842e-01,
                    -2.8971808939125554e-01,
                    6.1530198784410639e-01,
                    2.2354663291818622e-02,
                    5.8821397146483301e-01,
                    -1.2346127605607821e-01,
                    3.4508681779371936e-01,
                    7.2457408652999911e-01,
                    -1.3310558500224567e-01,
                    1.5772675147053744e-01,
                    -2.0190771637771757e-01,
                    -1.8993333054115964e+00,
                    6.1456105593543575e-01,
                    1.7899470033903127e-02,
                    -9.7035828085275722e-02,
                    2.0859006920880949e+00,
                    -2.9197572035273280e+00,
                    4.5023271301675261e-01,
                    -3.0073442797227556e-01,
                    -1.4744412014108049e-01,
                    -1.0328800128151060e-01,
                    1.2080497349190025e+00,
                    -1.0521511756307196e+00,
                    -9.0195943680523039e-01,
                    2.4579951918406356e-01
                  ]
                ]
              }
            }
          },
          "requestProbabilities": false
        },
        {
          "type": "op.core.convert",
          "pixelType": "UINT8"
        }
      ]
    }
  }
}